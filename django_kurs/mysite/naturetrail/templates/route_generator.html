<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% load static %}
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" type="text/css">
    <link href="/static/css/main.css" rel="stylesheet" type="text/css">
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;apikey=616e0506-5ed7-42e4-87d2-595d4ed059a8" type="text/javascript"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top" id="menu">
    <a class="navbar-brand" href="/">Home</a>
    <button aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation"
            class="navbar-toggler"
            data-target="#navbarSupportedContent" data-toggle="collapse"
            type="button">
        <span class="navbar-toggler-icon"></span>
    </button>
</nav>

<header class="header_route_detail">
    <div class="overlay_route_detail"></div>
    <div class="container">
        <div class="row">
            <div class="col-md-6 d-flex justify-content-between">
                <div class="description text-center">
                    <h3>
                        <p>
                            Национальный парк
                        </p>
                        ТАГАНАЙ!!!!!!!
                    </h3>
                    <div class="preview2">Моё путешествие</div>
                </div>
            </div>
            <div class="col-md-6 d-flex justify-content-center align-items-center">
                {% block content %}

                {% endblock %}
            </div>
        </div>
    </div>
</header>

<!-- Posts section -->
<div class="gener" id="gener">
    <div class="parameters-container container">
        <div id="map" style="width: 600px; height: 400px"></div>
        <div class="generator text-center" id="generator">
                    <h1 class="title">Введите параметры похода</h1>
                    <form method="post" action="/generate/">
                        {% csrf_token %}
                        <!--<label for="level_of_hardness">Уровень сложности:</label>-->
                        <select class="form-select" name="level_of_hardness">
                            <option selected disabled hidden>Выберите уровень сложности</option>
                            <option value="Лёгкий">Лёгкий</option>
                            <option value="Средний">Средний</option>
                            <option value="Сложный">Сложный</option>
                            <option value="Выживание">Выживание</option>
                        </select><br>
                        <!--<label for="duration">Продолжительность в днях:</label>-->
                        <select class="form-select" name="duration">
                            <option selected disabled hidden>Выберите продолжительность</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select><br>
                        <!--<label for="participants">Количество участников:</label>-->
                        <input type="number" class="form-control"
                               name="participants"  min="1" max="30"
                         placeholder="Введите количество участников">
                        <br>
                        <!--<label for="season">Сезон:</label>-->
                        <select class="form-select" name="season">
                            <option selected disabled hidden>Выберите сезон</option>
                            <option value="Весна">Весна</option>
                            <option value="Лето">Лето</option>
                            <option value="Осень">Осень</option>
                            <option value="Зима">Зима</option>
                        </select><br>
                        <select class="form-select" id="accommodation"
                                name="accommodation">
                            <option disabled hidden selected>Выберите вариант
                                проживания
                            </option>
                            <option value="В палатке">В палатке</option>
                            <option value="В доме">В доме</option>
                            <option value="В доме и в палатке">В доме и в
                                палатке
                            </option>
                        </select>
                        <span>{{ error }}</span>
                        <button class="btn btn-success btn-lg mt-4" type="submit">Сгенерировать маршрут</button>
                    </form>
                </div>

    </div>
</div>

<script>
    ymaps.ready(init);
    function init() {
        var myMap = new ymaps.Map("map", {
            center: [55.263577, 59.778038],
            zoom: 10
        });

        //console.log({{ all_points|safe }})
        const points = {{ all_points|safe }};
        //console.log(points)

        points.forEach(function (point) {
            var placeMark = new ymaps.Placemark([point.latitude, point.longitude], { hintContent: point.name });
            myMap.geoObjects.add(placeMark);
        });
    }
</script>
<hr>
<footer class="container">
    &copy; Все права защищены 2024
</footer>
<script src='/static/js/main.js' type="text/javascript"></script>
</body>
</html>
